# Парсер-нормализатор преподавателей ТвГУ

Асинхронный парсер преподавателей Тверского государственного университета (ТвГУ), работающий с публичной HTML-страницей сайта университета и нормализирующий информацию в датаклассы.

Проект предназначен для получения, нормализации и экспорта информации о преподавателях _(ФИО, должность, дисциплины, образование, контакты и т.д.)_ в формате JSON.  
Страница не предоставляет формального API, поэтому парсер основан на анализе HTML-структуры и реального содержимого сайта.

Выкладываю, чтобы у студентов и разработчиков была возможность быстро получать структурированные данные для своих проектов.

Проект не привязан к конкретному интерфейсу и может использоваться как:
- CLI-утилита
- источник данных для ботов
- backend-компонент для сервисов и каталогов преподавателей

---

## Возможности

- Загрузка списка преподавателей ТвГУ с официального сайта
- Парсинг и нормализация информации:
  - ФИО _(разделение на фамилию, имя, отчество)_
  - текущая должность
  - преподаваемые дисциплины
  - уровень и направление образования
  - места работы
  - учёные степени и звания
  - награды
  - повышение квалификации
  - стаж работы
  - контактные данные _(телефон, добавочный номер, email)_
  - реализуемые образовательные программы
- Корректная обработка:
  - скрытых модальных блоков _(«Показать»)_
  - HTML-разметки с `<br>`
  - вложенных списков
  - нестабильных разделителей
- Асинхронная загрузка
- Экспорт в JSON _(с форматированием или без)_

---

## Ограничения и особенности

- Структура HTML-страницы может меняться со стороны сайта ТвГУ
- Парсер опирается на текущую семантику `itemprop` и DOM-структуру
- Некоторые поля могут отсутствовать или быть заполнены частично
- В парсере намеренно отсутствует жёсткая валидация — приоритет отдан устойчивости

---

## Требования

- Python **3.10+**
- Зависимости:
  - `aiohttp`
  - `beautifulsoup4`

Установка зависимостей:
```bash
pip install aiohttp beautifulsoup4
```

# Использование
## В виде CLI-утилиты

```bash
python -m tvgu_teachers_parser
```
В этом режиме данные загружаются, но никуда не сохраняются: бесполезно

## Экспорт преподавателей в файл

```bash
python -m tvgu_teachers_parser --output teachers.json --prettify
```
`--output schedules.json` – Файл для экспорта в JSON формате

`--prettify` – Форматировать вывод _(с отступами и переносом строк)_

`--warnings` – Выводить в консоль предупреждения _(например, при невалидных группах)_

## Автоматическое имя файла
```bash
python -m tvgu_teachers_parser --output-auto --output-directory data
```

В этом случае название файла будет иметь такой вид: `teachers-YYYY-MM-DD.json` и находиться он будет в папке `data`

## Используя функцию
Используйте функцию `get_all_tvgu_teachers()` – просто вызывайте её _(не забудьте `await`)_ и получите список преподавателей

Формат возвращаемого значения: `dict[str, dict[Group, tuple[Lesson]]]` – Словарь с ключом в виде кода факультета, затем значение со словарём с ключом в виде группы и значением в виде списка пар

Структурируйте по неделе сами


## Формат выходных данных
Выходной JSON имеет следующую структуру:
```json
[
  {
    "name": "Имя",
    "surname": "Фамилия",
    "patronymic": "Отчество",
    "current_job": "Должность",
    "teaching_disciplines": [
      "Дисциплина 1",
      "Дисциплина 2"
    ],
    "level_education": "Уровень образования",
    "direction_education": "Направление подготовки",
    "jobs": [
      "Место работы"
    ],
    "degrees": [
      "Учёная степень"
    ],
    "academ_stats": [
      "Учёное звание"
    ],
    "rewards": [
      "Награды"
    ],
    "qualify_ups": [
      "Повышение квалификации"
    ],
    "experience_age": 10,
    "phone": "1234567890",
    "phone_additional_code": "123",
    "email": "example@tversu.ru",
    "teaching_programs": [
      "Образовательная программа"
    ]
  }
]
```
_Некоторые поля могут быть пустыми или отсутствовать в зависимости от данных на сайте_

# Лицензия
Свободное использование
Не несу ответственности за изменения в API или структуре данных со стороны ТвГУ

Если ты используешь парсер или он тебе помог, то прошу лишь поставить звёздочку репозиторию)

_P.S. – Да, я просто скопипастил readme с парсера расписаний, мне впадлу писать для каждого свой readme_